<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="static/vue.js"></script>
    <script src="static/vue-router.min.js"></script>
    <script src="static/axios.min.js"></script>
    <link rel="stylesheet" href="static/bootstrap.min.css">
    <script src="static/popper.min.js"></script>
    <script src="static/bootstrap.min.js"></script>

    <link rel="stylesheet" href="static/style.css">
    <link rel="icon" href="static/favicon.ico">
    <title>Errorly</title>
</head>

<body>
    <div id="app">
        <nav class="navbar navbar-expand-sm navbar-dark" style="background: #212529;">
            <div class="px-3 container-fluid">
                <router-link class="navbar-brand" to="/">
                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 16.933 16.933">
                        <g transform="matrix(.92411 .38213 -.92411 .38213 0 -280.067)"
                            paint-order="markers fill stroke">
                            <rect width="10.39" height="10.39" x="379.54" y="370.378" ry="2.464" rx="2.464"
                                fill="#f16971" />
                            <rect width="10.39" height="10.39" x="376.923" y="367.761" ry="2.464" rx="2.464"
                                fill="#ea202f" />
                            <rect width="10.39" height="10.39" x="374.307" y="365.145" ry="2.464" rx="2.464"
                                fill="#aa1019" />
                        </g>
                    </svg>
                    <span class="font-weight-bold text-light" style="font-size: x-large;">Errorly</span>
                    <pre>$route: {{ this.$route.path }}</pre>
                </router-link>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                    aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <div v-if="this.userLoading">
                        <div class="spinner-border" role="status">
                        </div>
                    </div>
                    <div v-else>
                        <div v-if="!this.userAuthenticated">
                            <ul class="navbar-nav">
                                <a href="/login">
                                    <button class="btn btn-outline-light mr-2" type="button">
                                        <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                d="M22,24L16.75,19L17.38,21H4.5A2.5,2.5 0 0,1 2,18.5V3.5A2.5,2.5 0 0,1 4.5,1H19.5A2.5,2.5 0 0,1 22,3.5V24M12,6.8C9.32,6.8 7.44,7.95 7.44,7.95C8.47,7.03 10.27,6.5 10.27,6.5L10.1,6.33C8.41,6.36 6.88,7.53 6.88,7.53C5.16,11.12 5.27,14.22 5.27,14.22C6.67,16.03 8.75,15.9 8.75,15.9L9.46,15C8.21,14.73 7.42,13.62 7.42,13.62C7.42,13.62 9.3,14.9 12,14.9C14.7,14.9 16.58,13.62 16.58,13.62C16.58,13.62 15.79,14.73 14.54,15L15.25,15.9C15.25,15.9 17.33,16.03 18.73,14.22C18.73,14.22 18.84,11.12 17.12,7.53C17.12,7.53 15.59,6.36 13.9,6.33L13.73,6.5C13.73,6.5 15.53,7.03 16.56,7.95C16.56,7.95 14.68,6.8 12,6.8M9.93,10.59C10.58,10.59 11.11,11.16 11.1,11.86C11.1,12.55 10.58,13.13 9.93,13.13C9.29,13.13 8.77,12.55 8.77,11.86C8.77,11.16 9.28,10.59 9.93,10.59M14.1,10.59C14.75,10.59 15.27,11.16 15.27,11.86C15.27,12.55 14.75,13.13 14.1,13.13C13.46,13.13 12.94,12.55 12.94,11.86C12.94,11.16 13.45,10.59 14.1,10.59Z" />
                                        </svg>
                                        Login with Discord
                                    </button>
                                </a>
                            </ul>
                        </div>
                        <div v-else>
                            <ul class="navbar-nav">
                                <li class="nav-item dropdown">
                                    <span class="nav-link dropdown-toggle text-light" id="navbarDropdown" role="button"
                                        data-toggle="dropdown" aria-expanded="false">
                                        Select a Project
                                    </span>
                                    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                        <li v-for="project in this.userProjects">
                                            <router-link :to="'/project/' + project.id" class="dropdown-item" href="#">
                                                {{ project.name }}</a>
                                        </li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li>
                                            <router-link to="/project/create" class="dropdown-item" href="#">
                                                <svg style="width:16px;height:16px" viewBox="0 0 24 24">
                                                    <path fill="currentColor"
                                                        d="M17,14H19V17H22V19H19V22H17V19H14V17H17V14M5,3H19C20.11,3 21,3.89 21,5V12.8C20.39,12.45 19.72,12.2 19,12.08V5H5V19H12.08C12.2,19.72 12.45,20.39 12.8,21H5C3.89,21 3,20.11 3,19V5C3,3.89 3.89,3 5,3M7,7H17V9H7V7M7,11H17V12.08C16.15,12.22 15.37,12.54 14.68,13H7V11M7,15H12V17H7V15Z" />
                                                </svg>
                                                New Project</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item dropdown">
                                    <span class="nav-link dropdown-toggle text-light" id="navbarDropdown" role="button"
                                        data-toggle="dropdown" aria-expanded="false">
                                        <img width="24" :src="this.user.avatar">
                                    </span>
                                    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                        <li><span class="dropdown-item">Signed in as
                                                <b>{{ this.user.name }}</b></span></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" href="/logout">Sign Out</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <div>
            <div class="text-center py-5" v-if="this.hasError">
                <h1>An error occured :(</h1>
                <p>{{ this.error }}</p>
            </div>
            <div v-else>
                <router-view></router-view>
            </div>
        </div>
    </div>
</body>

<script src="static/chart.min.js"></script>
<script src="static/vue-chartjs.min.js"></script>
<script src="static/script.js"></script>

</html>
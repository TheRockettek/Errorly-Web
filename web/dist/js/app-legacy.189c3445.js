(function(t){function e(e){for(var a,n,o=e[0],c=e[1],d=e[2],u=0,p=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,d||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},r=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("296e"),i=s.n(a);i.a},"0aed":function(t,e,s){},"296e":function(t,e,s){},"2b3a":function(t,e,s){t.exports=s.p+"img/brand.8a4ba0ea.svg"},"3f23":function(t,e,s){"use strict";var a=s("3f5e"),i=s.n(a);i.a},"3f5e":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("d3b7"),s("25f0"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("a026"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{},[a("nav",{staticClass:"navbar navbar-expand-sm navbar-dark",staticStyle:{background:"#212529"}},[a("div",{staticClass:"px-3 container-fluid"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[a("img",{attrs:{width:"64",height:"64",alt:"brand icon",src:s("2b3a")}}),a("span",{staticClass:"font-weight-bold text-light h4 pl-2"},[t._v("Errorly")])]),t._m(0),a("div",{staticClass:"collapse navbar-collapse justify-content-end",attrs:{id:"navbarNavDropdown"}},[this.$root.userLoading?a("div",[a("div",{staticClass:"spinner-border",attrs:{role:"status"}})]):a("div",[this.$root.userAuthenticated?a("div",[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item dropdown"},[a("span",{staticClass:"nav-link dropdown-toggle text-light",attrs:{id:"projectDropdown",role:"button","data-toggle":"dropdown","aria-expanded":"false"}},[t._v(" Select a Project ")]),a("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"projectDropdown"}},[a("li",[a("router-link",{staticClass:"dropdown-item text-success",attrs:{to:"/project/create",href:"#"}},[a("svg-icon",{attrs:{type:"mdi",path:t.mdiTextBoxCheckOutline}}),t._v(" New Project")],1)],1),a("li",[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/projects",href:"#"}},[t._v(" View All Projects")])],1),t._m(1),t._l(this.$root.userProjects,(function(e,s){return a("li",{key:s},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/project/"+e.id,href:"#"}},[t._v(" "+t._s(e.name))])],1)}))],2)]),a("li",{staticClass:"nav-item dropdown"},[a("span",{staticClass:"nav-link dropdown-toggle text-light",attrs:{id:"userDropdown",role:"button","data-toggle":"dropdown","aria-expanded":"false"}},[a("img",{attrs:{width:"24",height:"24",src:this.$root.user.avatar,alt:"User profile picture"}})]),a("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-label":"Profile"}},[a("li",[a("span",{staticClass:"dropdown-item"},[t._v(" Signed in as "),a("b",[t._v(t._s(this.$root.user.name))])])]),t._m(2),t._m(3)])])])]):a("div",[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item"},[a("a",{attrs:{href:"/login"}},[a("button",{staticClass:"btn btn-outline-light mr-2",attrs:{type:"button","aria-label":"Login with Discord"}},[a("svg-icon",{attrs:{type:"mdi",path:t.mdiDiscord}}),t._v(" Login with Discord ")],1)])])])])])])],1)]),a("div",[this.$root.error?a("div",{staticClass:"text-center py-5"},[a("error",{attrs:{message:this.$root.error}})],1):a("div",[a("router-view")],1)])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("hr",{staticClass:"dropdown-divider"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("hr",{staticClass:"dropdown-divider"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"/logout"}},[t._v("Sign Out")])])}],n=s("1fee"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center my-5"},[s("svg-icon",{staticClass:"mb-2 text-muted",attrs:{type:"mdi",width:64,height:64,path:t.mdiAlertCircle}}),s("h3",[t._v("Oops, something happened.")]),s("p",{staticClass:"m-auto my-2 col-10 text-muted"},[t._v(" Something unexpected happened whilst handling your request, sorry. ")]),s("kbd",[t._v(t._s(this.message))])],1)},c=[],d=s("94ed"),l={components:{SvgIcon:n["a"]},props:["message"],data:function(){return{mdiAlertCircle:d["d"]}}},u=l,p=s("2877"),m=Object(p["a"])(u,o,c,!1,null,null,null),v=m.exports,h={components:{SvgIcon:n["a"],Error:v},data:function(){return{mdiDiscord:d["k"],mdiTextBoxCheckOutline:d["z"]}}},g=h,b=(s("034f"),Object(p["a"])(g,i,r,!1,null,null,null)),f=b.exports,_=s("9483");Object(_["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var y,C,k=s("8c4f"),x=s("8682"),w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center my-5"},[s("svg-icon",{staticClass:"mb-2 text-muted",attrs:{type:"mdi",width:64,height:64,path:t.mdiHelpRhombus}}),s("h3",[t._v("404")]),s("p",{staticClass:"m-auto my-2 col-10 text-muted"},[t._v(" It seems you are not where you want to be... ")]),s("kbd",[t._v(t._s(this.$route.path))])],1)},$=[],j={components:{SvgIcon:n["a"]},name:"NotFoundPage",data:function(){return{mdiHelpRhombus:d["m"]}}},S=j,A=Object(p["a"])(S,w,$,!1,null,null,null),O=A.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("div",{staticClass:"bg-light py-5"},[s("div",{staticClass:"col-sm-9 col-md-8 col-lg-6 col-xl-5 p-5 m-auto"},[s("h1",{staticClass:"display-4 font-weight-bold"},[t._v(" Automate error collection and handling ")]),s("p",{staticClass:"text-dark mt-4 mb-5"},[t._v(" With Errorly, you can easily integrate both error logging and issue handling in one platform. Easily sort out issues and segregate what needs to be done and what has already been done. ")]),this.$root.userAuthenticated?s("div",[s("h3",[t._v("You're already logged in?")]),s("p",{staticClass:"text-dark mb-2"},[t._v("You're one step closer!")]),s("router-link",{attrs:{to:"/projects"}},[s("button",{staticClass:"btn btn-outline-dark mx-2",attrs:{type:"button"}},[s("svg-icon",{attrs:{type:"mdi",path:t.mdiTextBoxCheckOutline}}),t._v(" My Projects ")],1)])],1):s("div",[s("a",{attrs:{href:"/login"}},[s("button",{staticClass:"btn btn-outline-dark mx-2",attrs:{type:"button"}},[s("svg-icon",{attrs:{type:"mdi",path:t.mdiDiscord}}),t._v(" Login with Discord ")],1)])])])]),s("div",{staticStyle:{overflow:"hidden"}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"}},[s("path",{attrs:{fill:"#f8f9fa","fill-opacity":"1",d:"M0,224L80,202.7C160,181,320,139,480,138.7C640,139,800,181,960,176C1120,171,1280,117,1360,90.7L1440,64L1440,0L1360,0C1280,0,1120,0,960,0C800,0,640,0,480,0C320,0,160,0,80,0L0,0Z"}})])])])},P=[],E={name:"Home",components:{SvgIcon:n["a"]},data:function(){return{mdiDiscord:d["k"],mdiTextBoxCheckOutline:d["z"]}}},L=E,D=Object(p["a"])(L,I,P,!1,null,null,null),T=D.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container mt-5 text-center"},[s("h3",{staticClass:"pb-3 font-weight-bold"},[t._v("Select a project")]),s("div",{staticClass:"d-flex pb-3 border-bottom border-muted"},[s("div",{staticClass:"input-group input-group-sm border border-secondary rounded mr-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.projectFilter,expression:"$root.projectFilter"}],staticClass:"form-control border-white",attrs:{type:"text",placeholder:"Filter by...","aria-label":"Search","aria-describedby":"search-submit"},domProps:{value:t.$root.projectFilter},on:{input:function(e){e.target.composing||t.$set(t.$root,"projectFilter",e.target.value)}}}),s("button",{staticClass:"btn",attrs:{type:"button",id:"search-clear","aria-label":"Empty query"},on:{click:function(e){t.$root.projectFilter=""}}},[s("svg-icon",{attrs:{type:"mdi",width:21,height:21,path:t.mdiCloseCircleOutline}})],1)]),s("router-link",{staticClass:"text-decoration-none",attrs:{to:"/project/create"}},[s("button",{staticClass:"d-flex btn btn-outline-success",attrs:{type:"button",id:"create-project"}},[s("svg-icon",{attrs:{type:"mdi",width:24,heights:24,path:t.mdiTextBoxCheckOutline}}),t._v(" New ")],1)])],1),this.$root.userAuthenticated?0==this.$root.userProjects.length?s("div",{staticClass:"card text-left text-center py-3 border-bottom border-muted border-top-0 border-left-0 border-right-0"},[s("h3",[t._v("You do not have any projects")]),s("p",[t._v("Join a project with a link from the owner or create a new project")]),s("router-link",{staticClass:"text-decoration-none",attrs:{to:"/project/create"}},[s("button",{staticClass:"d-flex btn btn-outline-success m-auto",attrs:{type:"button",id:"create-project"}},[s("svg-icon",{attrs:{type:"mdi",width:24,height:24,path:t.mdiTextBoxCheckOutline}}),t._v(" New ")],1)])],1):t._l(this.filterProjects,(function(e,a){return s("div",{key:a,staticClass:"card text-left py-3 border-bottom border-muted border-top-0 border-left-0 border-right-0"},[s("div",{staticClass:"card-body"},[s("router-link",{staticClass:"card-title font-weight-bold h3 text-decoration-none",attrs:{to:"/project/"+e.id}},[t._v(" "+t._s(e.name))]),s("p",{staticClass:"card-title text-dark"},[t._v(" "+t._s(e.description||"No description set")+" ")]),s("span",{staticClass:"card-text text-muted"},[s("svg-icon",{attrs:{type:"mdi",width:16,height:16,path:t.mdiTrayAlert}}),t._v(" "+t._s(e.open_issues)+" ")],1),s("span",{staticClass:"card-text text-muted"},[s("svg-icon",{attrs:{type:"mdi",width:16,height:16,path:t.mdiTrayFull}}),t._v(" "+t._s(e.active_issues)+" ")],1),s("span",{staticClass:"card-text text-muted"},[s("svg-icon",{attrs:{type:"mdi",width:16,height:16,path:t.mdiTray}}),t._v(" "+t._s(e.resolved_issues)+" ")],1),e.private?s("span",{staticClass:"badge rounded-pill bg-secondary"},[t._v("Private")]):t._e(),e.archived?s("span",{staticClass:"badge rounded-pill bg-warning text-dark"},[t._v("Archived")]):t._e()],1)])})):s("div",{staticClass:"text-center py-3"},[s("div",{staticClass:"card-body"},[s("h3",[t._v("You are not logged in!")]),s("p",{staticClass:"text-muted"},[t._v(" Create an account to create your own projects and contribute to others. Its free ")]),s("a",{attrs:{href:"/login"}},[s("button",{staticClass:"btn btn-outline-dark mr-2",attrs:{type:"button","aria-label":"Login with Discord"}},[s("svg-icon",{attrs:{type:"mdi",path:t.mdiDiscord}}),t._v(" Login with Discord ")],1)])])])],2)},M=[],q=(s("4de4"),s("caad"),s("b0c0"),s("2532"),{components:{SvgIcon:n["a"]},name:"Projects",data:function(){return{mdiDiscord:d["k"],mdiMagnify:d["r"],mdiCloseCircleOutline:d["i"],mdiTray:d["A"],mdiTrayFull:d["C"],mdiTrayAlert:d["B"],mdiTextBoxCheckOutline:d["z"]}},computed:{filterProjects:function(){if(""==this.projectFilter)return this.userProjects;var t=this.$root.projectFilter.toLowerCase();return this.$root.userProjects.filter((function(e){return e.name.toLowerCase().includes(t)}))}}}),F=q,N=(s("ed0c"),Object(p["a"])(F,R,M,!1,null,null,null)),B=N.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container mt-5"},[s("a",{staticClass:"text-dark mb-2 text-decoration-none h6 d-flex",attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[s("svg-icon",{staticClass:"mr-3",attrs:{type:"mdi",path:t.mdiChevronLeft}}),t._v(" Back to projects ")],1),t._m(0),this.error?s("div",{staticClass:"text-center py-5"},[s("error",{attrs:{message:this.error}})],1):s("div",[s("form-input",{attrs:{type:"text",label:"Project Name"},model:{value:t.project.display_name,callback:function(e){t.$set(t.project,"display_name",e)},expression:"project.display_name"}}),s("p",{staticClass:"text-muted"},[t._v(" Having a short, memorable and relevant project name is always important. Project names require at least 3 characters. ")]),s("form-input",{attrs:{type:"text",label:"Description (optional)"},model:{value:t.project.description,callback:function(e){t.$set(t.project,"description",e)},expression:"project.description"}}),s("p",{staticClass:"text-muted"},[t._v(" Describing what you do is important when people stumble upon your project. ")]),s("form-input",{attrs:{type:"text",label:"URL (optional)"},model:{value:t.project.url,callback:function(e){t.$set(t.project,"url",e)},expression:"project.url"}}),s("p",{staticClass:"text-muted"},[t._v(" Have a website? Link it so people can view it when they visit your project. Valid URLs only, please. ")]),s("form-input",{attrs:{type:"checkbox",label:"Private"},model:{value:t.project.private,callback:function(e){t.$set(t.project,"private",e)},expression:"project.private"}}),s("p",{staticClass:"text-muted"},[t._v(" If your project is private, only contributors are able to view it the project. ")]),s("form-input",{attrs:{type:"checkbox",label:"Limited"},model:{value:t.project.limited,callback:function(e){t.$set(t.project,"limited",e)},expression:"project.limited"}}),s("p",{staticClass:"text-muted"},[t._v(" If your project is limited, only contributors and integrations are able to create new issues. ")]),s("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:!t.validRequest()},on:{click:function(e){return t.createProject(t.project)}}},[t._v(" Create Project ")])],1)])},V=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pb-4 mb-4 border-bottom border-muted"},[s("h3",{staticClass:"pb-1"},[t._v("Create Project")]),s("span",{staticClass:"text-secondary"},[t._v("A project allows you to contain all your application errors in a centralized place and have the ability to track who is doing what at any time.")])])}],z=(s("3ca3"),s("498a"),s("ddb0"),s("2b3d"),s("bc3a")),W=s.n(z),H=s("4328"),Y=s.n(H),J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"checkbox"==t.type?s("div",{staticClass:"form-check"},[s("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:t.id,disabled:t.disabled},domProps:{checked:t.value},on:{change:function(e){return t.updateValue(e.target.checked)}}}),s("label",{staticClass:"form-check-label",attrs:{for:t.id}},[t._v(t._s(t.label))])]):"text"==t.type?s("div",[t.label?s("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),s("input",{staticClass:"form-control",attrs:{type:"text",id:t.id,disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value},on:{change:function(e){return t.updateValue(e.target.value)}}})]):"area"==t.type?s("div",[t.label?s("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),s("textarea",{staticClass:"form-control",staticStyle:{height:"10rem"},attrs:{type:"text",id:t.id,disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value},on:{change:function(e){return t.updateValue(e.target.value)}}})]):"list"==t.type?s("div",[t.label?s("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),s("input",{staticClass:"form-control",attrs:{type:"text",id:t.id,placeholder:"A,B,C",disabled:t.disabled},domProps:{value:t.value},on:{change:function(e){t.updateValue(Array.from(new Set(e.target.value.split(","))))}}})]):"number"==t.type?s("div",[t.label?s("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),s("input",{staticClass:"form-control",attrs:{type:"number",id:t.id,disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value},on:{change:function(e){t.updateValue(Number(e.target.value))}}})]):"password"==t.type?s("div",[t.label?s("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),s("div",{staticClass:"input-group"},[s("input",{staticClass:"form-control",attrs:{type:"password",id:t.id,autocomplete:"",disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value},on:{change:function(e){return t.updateValue(e.target.value)}}}),s("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.copyFormInputPassword()}}},[t._v(" Copy ")])])]):"select"==t.type?s("div",[t.label?s("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),s("select",{staticClass:"form-select",attrs:{id:t.id,disabled:t.disabled},on:{change:function(e){return t.updateValue(e.target.value)}}},t._l(t.values,(function(e,a){return s("option",{key:a,domProps:{value:a,selected:e==t.value}},[t._v(" "+t._s(e)+" ")])})),0)]):s("span",{staticClass:"badge bg-warning text-dark"},[t._v('Invalid type "'+t._s(t.type)+'" for "'+t._s(t.id)+'"')])},K=[],X={props:["type","id","label","values","value","disabled","placeholder"],methods:{copyFormInputPassword:function(){var t=document.createElement("textarea");t.value=this.$el.lastChild.firstChild.value,t.type="hidden",document.body.append(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),t.parentElement.removeChild(t)},updateValue:function(t){this.$emit("input",t)}}},G=X,Z=Object(p["a"])(G,J,K,!1,null,null,null),Q=Z.exports,tt=s("d604"),et=s.n(tt),st=et()({storeAsString:!0}),at={components:{FormInput:Q,SvgIcon:n["a"],Error:v},name:"CreateProject",data:function(){return{error:"",project:{display_name:"",background:"",description:"",url:"",private:!1,limited:!1},mdiChevronLeft:d["f"]}},methods:{validRequest:function(){if(this.project.display_name.trim().length<3)return!1;if(this.project.url){var t;try{t=new URL(this.project.url)}catch(e){return!1}if("http:"!==t.protocol&&"https:"!==t.protocol)return!1}return!0},createProject:function(t){var e=this;W.a.post("/api/projects",Y.a.stringify(t),{transformResponse:[function(t){return st.parse(t)}],headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){var s=t.data;s.success?(e.$root.userProjects.unshift(s.data),e.error="",e.$router.push("/project/"+s.data.id)):e.error=s.error})).catch((function(t){var s;(null===(s=t.response)||void 0===s?void 0:s.data)?e.error=t.response.data.error||t.response.data:e.error=t.text||t.toString()}))}}},it=at,rt=Object(p["a"])(it,U,V,!1,null,null,null),nt=rt.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return this.error?s("div",{staticClass:"text-center py-5"},[s("error",{attrs:{message:this.error}})],1):this.project?s("div",[s("div",{staticClass:"banner-image"},[s("a",{attrs:{href:"https://www.pexels.com/photo/snowcap-mountains-during-sunset-808031/"}},[s("span",{staticClass:"image-credit"},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiCamera}}),s("span",[t._v("Michal Pech")]),s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiMapMarker}}),s("span",[t._v("Breitenwang, Austria")])],1)]),s("div",[s("div",[s("div",[s("span",[t._v(t._s(this.project.settings.display_name))])]),s("div"),s("div",[s("div",[s("pie-chart",{attrs:{height:100,width:100,options:{animation:{animateScale:!0},tooltips:{display:!1},legend:{display:!1},title:{display:!1},cutoutPercentage:50,reactive:!1,aspectRatio:1},"chart-data":{datasets:[{data:[this.project.open_issues,this.project.active_issues,this.project.resolved_issues],backgroundColor:["#dc3545","#0d6efd","#28a745"],borderColor:["#dc3545","#0d6efd","#28a745"]}],labels:["Open","Active","Resolved"]}}})],1),s("div",[s("span",[s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiTrayAlert}}),t._v(" "+t._s(this.project.open_issues)+" Open")],1),s("span",[s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiTrayFull}}),t._v(" "+t._s(this.project.active_issues)+" Active")],1),s("span",[s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiTray}}),t._v(" "+t._s(this.project.resolved_issues)+" Resolved")],1)])])])])]),s("div",{staticClass:"container-xl p-4"},[s("ul",{staticClass:"nav nav-tabs"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-body",class:{active:this.$route.path.endsWith(this.project.id+"/")||this.$route.path.endsWith(this.project.id)},attrs:{to:"/project/"+this.$route.params.id+"/","aria-current":"page",href:"#"}},[s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiInformationOutline}}),t._v(" Overview ")],1)],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-body",class:{active:this.$route.path.endsWith("/issues")},attrs:{to:"/project/"+this.$route.params.id+"/issues",href:"#"}},[s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiTrayAlert}}),t._v(" Issues "),this.project.settings.archived?s("span",{staticClass:"badge rounded-pill bg-warning text-dark"},[t._v("Archived")]):s("span",{staticClass:"badge rounded-pill bg-secondary"},[t._v(" "+t._s(this.project.open_issues+this.project.active_issues)+" ")])],1)],1),this.elevated?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-body",class:{active:this.$route.path.endsWith("/settings")},attrs:{to:"/project/"+this.$route.params.id+"/settings",href:"#"}},[s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiCogOutline}}),t._v(" Settings ")],1)],1):t._e()]),s("router-view",{staticClass:"p-4"})],1)]):t._e()},ct=[],dt=(s("4160"),s("d81d"),s("07ac"),s("159b"),s("1fca")),lt={extends:dt["a"],props:["chartData","options"],mixins:[dt["b"].reactiveProp],mounted:function(){this.renderChart(this.chartData,this.options)}},ut=lt,pt=Object(p["a"])(ut,y,C,!1,null,null,null),mt=pt.exports,vt=et()({storeAsString:!0});function ht(t,e){W.a.get("/api/project/"+t,{transformResponse:[function(t){return vt.parse(t)}]}).then((function(t){var s=t.data;s.success?e(void 0,s.data):e(s.error,{})})).catch((function(t){var s;(null===(s=t.response)||void 0===s?void 0:s.data)?e(t.response.data.error||t.response.data,{}):e(t,{})}))}var gt={components:{PieChart:mt,SvgIcon:n["a"],Error:v},name:"ProjectOverview",data:function(){return{total_issues:0,page:this.$route.query.page||0,issue_query:this.$route.query.q||"",issues:{},contributors:{},contributors_loaded:!1,elevated:!1,executing:!1,issue_error:void 0,issues_loading:!0,page_limit:25,error:void 0,project:void 0,mdiCamera:d["e"],mdiMapMarker:d["s"],mdiTray:d["A"],mdiTrayFull:d["C"],mdiTrayAlert:d["B"],mdiCogOutline:d["j"],mdiInformationOutline:d["n"]}},beforeRouteEnter:function(t,e,s){var a,i,r=null===(a=t.params)||void 0===a?void 0:a.id;(null===(i=e.params)||void 0===i?void 0:i.id)!=r&&void 0!=r?ht(t.params.id,(function(t,e){s((function(s){return s.setData(t,e)}))})):s()},beforeRouteUpdate:function(t,e,s){var a,i,r=this,n=null===(a=t.params)||void 0===a?void 0:a.id;(null===(i=e.params)||void 0===i?void 0:i.id)!=n&&void 0!=n&&ht(t.params.id,(function(t,e){r.total_issues=0,r.page=r.$route.query.page||0,r.issue_query=r.$route.query.q||"",r.issues={},r.contributors_loaded=!1,r.executing=!1,r.issue_error=void 0,r.issues_loading=!0,r.setData(t,e)})),s()},methods:{selectAllIssues:function(t){for(var e in this.issues){var s=this.issues[e];s.checked=t,this.$set(this.issues,e,s)}},getCheckedIssues:function(){return Object.values(this.issues).filter((function(t){return t.checked})).map((function(t){return t.id}))},execute:function(t,e){var s={issues:Y.a.stringify(e)};"assign"==t&&(s["action"]="assign",s["assigning"]=!0,s["assignee_id"]=this.assigned),"deassign"==t&&(s["action"]="assign",s["assigning"]=!1,s["assignee_id"]=this.assigned),"resolved"==t&&(s["action"]="mark_status",s["mark_type"]="EntryResolved"),"active"==t&&(s["action"]="mark_status",s["mark_type"]="EntryActive"),"open"==t&&(s["action"]="mark_status",s["mark_type"]="EntryOpen"),"invalid"==t&&(s["action"]="mark_status",s["mark_type"]="EntryInvalid"),"lock"==t&&(s["action"]="lock_comments",s["locking"]=!0),"unlock"==t&&(s["action"]="lock_comments",s["locking"]=!1),void 0!=s["action"]&&this.executeTask(s)},executeTask:function(t){var e=this;this.executing=!0,this.issue_error=void 0,W.a.post("/api/project/"+this.$route.params.id+"/execute",Y.a.stringify(t),{transformResponse:[function(t){return vt.parse(t)}],headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){var s=t.data;s.success&&(s.data.issues.forEach((function(t){t["checked"]=!!e.issues[t.id]&&e.issues[t.id]["checked"],e.$set(e.issues,t.id,t)})),e.project=s.data.project)})).catch((function(t){var s;(null===(s=t.response)||void 0===s?void 0:s.data)?e.issue_error=t.response.data.error||t.response.data:e.issue_error=t.text||t.toString()})).finally((function(){e.executing=!1}))},starIssue:function(t,e){var s=this;this.issues[t].starred=e,W.a.post("/api/project/"+this.$route.params.id+"/execute",Y.a.stringify({action:"star",issues:Y.a.stringify([t]),starring:e}),{transformResponse:[function(t){return vt.parse(t)}],headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){var e=t.data;e.success&&e.data.issues.forEach((function(t){t["checked"]=!!s.issues[t.id]&&s.issues[t.id]["checked"],s.$set(s.issues,t.id,t)}))})).catch((function(t){var e;(null===(e=t.response)||void 0===e?void 0:e.data)?s.issue_error=t.response.data.error||t.response.data:s.issue_error=t.text||t.toString()}))},fetchIssues:function(){var t=this,e={page:this.page};""!=this.issue_query&&(e["q"]=this.issue_query);var s="/project/"+this.$route.params.id+"/issues";s==this.$route.path&&this.$route.query.page==e["page"]&&this.$route.query.q==e["q"]||this.$router.push({path:s,query:e},(function(){t.loadIssues(e)}))},loadIssues:function(t){var e=this;this.issue_error=void 0,W.a.get("/api/project/"+this.$route.params.id+"/issues",{transformResponse:[function(t){return vt.parse(t)}],params:t}).then((function(t){e.issues={};var s=t.data;if(s.success){var a=[];e.total_issues=s.data.total_issues,e.page=s.data.page,s.data.issues&&s.data.issues.forEach((function(t){t.checked=!1,0==t.assignee_id||t.assignee_id in e.contributors||a.includes(t.assignee_id)||a.push(t.assignee_id),0==t.created_by_id||t.created_by_id in e.contributors||a.includes(t.created_by_id)||a.push(t.created_by_id),e.$set(e.issues,t.id,t)})),a.length>0?W.a.get("/api/project/"+e.$route.params.id+"/lazy",{transformResponse:[function(t){return vt.parse(t)}],params:{q:Y.a.stringify(a)}}).then((function(t){var s=t.data;s.success?Object.values(s.data.users).forEach((function(t){e.$set(e.contributors,t.id,t)})):e.issue_error=s.error})).catch((function(t){var s;(null===(s=t.response)||void 0===s?void 0:s.data)?e.issue_error=t.response.data.error||t.response.data:e.issue_error=t.text||t.toString()})).finally((function(){e.contributors_loaded=!0})):e.contributors_loaded=!0}else e.issue_error=s.error})).catch((function(t){var s;(null===(s=t.response)||void 0===s?void 0:s.data)?e.issue_error=t.response.data.error||t.response.data:e.issue_error=t.text||t.toString()})).finally((function(){e.issues_loading=!1}))},getUsername:function(t){return this.contributors_loaded?this.contributors[t]?this.contributors[t].name:void 0:"..."},getIntegration:function(t){return!!this.contributors[t]&&this.contributors[t].integration},getAvatar:function(t){return this.getIntegration(t)?"/img/integration.png":this.contributors[t]?this.contributors[t].avatar:"/img/default.png"},setData:function(t,e){t&&t!=e?this.error=t.toString():(this.error=void 0,this.project=e.project,this.elevated=e.elevated,this.contributors=e.contributors||{})}}},bt=gt,ft=(s("3f23"),Object(p["a"])(bt,ot,ct,!1,null,"e2aee6b4",null)),_t=ft.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"p-3 border-bottom border-muted"},[s("h5",{staticClass:"font-weight-bold"},[t._v("About")]),this.$parent.project.settings.description?s("p",[t._v(" "+t._s(this.$parent.project.settings.description)+" ")]):s("p",{staticClass:"text-secondary"},[t._v("No description provided")]),this.$parent.project.settings.url?s("div",[s("a",{staticClass:"text-decoration-none",attrs:{href:this.$parent.project.settings.url}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiLinkVariant}}),t._v(" "+t._s(t.getHost(this.$parent.project.settings.url))+" ")],1)]):t._e()])])},Ct=[],kt={components:{SvgIcon:n["a"]},name:"ProjectOverview",data:function(){return{mdiLinkVariant:d["o"]}},methods:{getHost:function(t){var e=new URL(t);return e.host}}},xt=kt,wt=Object(p["a"])(xt,yt,Ct,!1,null,null,null),$t=wt.exports,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex mb-3"},[s("div",{staticClass:"input-group input-group-sm border border-secondary rounded d-flex flex-fill",staticStyle:{width:"fit-content"}},[t._m(0),s("ul",{staticClass:"dropdown-menu"},t._l(t.filterTemplates,(function(e,a,i){return s("li",{key:i},[s("a",{staticClass:"dropdown-item",on:{click:function(s){t.$parent.issue_query=e,t.$parent.page=0,t.$parent.fetchIssues()}}},[t._v(t._s(a)+" ")])])})),0),s("button",{staticClass:"btn",attrs:{type:"button",id:"search-submit","aria-label":"Search issues"},on:{click:function(e){return t.$parent.fetchIssues()}}},[s("svg-icon",{staticClass:"text-secondary",attrs:{type:"mdi",height:21,width:21,path:t.mdiMagnify}})],1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.issue_query,expression:"$parent.issue_query"}],staticClass:"form-control border-white",attrs:{type:"text",placeholder:"Filter by...","aria-label":"Search","aria-describedby":"search-submit"},domProps:{value:t.$parent.issue_query},on:{input:function(e){e.target.composing||t.$set(t.$parent,"issue_query",e.target.value)}}}),s("button",{staticClass:"btn",attrs:{type:"button",id:"search-clear","aria-label":"Clear issue search"},on:{click:function(e){t.$parent.issue_query=""}}},[s("svg-icon",{staticClass:"text-secondary",attrs:{type:"mdi",height:21,width:21,path:t.mdiCloseCircleOutline}})],1)]),!this.$parent.project.settings.archived&&this.$parent.elevated?s("router-link",{staticClass:"ml-3",attrs:{to:"/project/"+this.$route.params.id+"/issue/create"}},[s("button",{staticClass:"btn btn-success",attrs:{type:"button"}},[t._v("New Issue")])]):s("div",{staticClass:"ml-3"},[s("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:!0}},[t._v(" New Issue ")])])],1),s("div",{staticClass:"table-responsive"},[t.$parent.issue_error?s("div",{staticClass:"text-center my-5"},[s("alert",{attrs:{message:t.$parent.issue_error}})],1):s("div",[s("table",{staticClass:"table table-borderless table-hover card d-table"},[s("thead",{staticClass:"card-header"},[s("tr",{staticClass:"d-table-row"},[s("th",{staticClass:"p-0 align-middle"}),s("th",{staticClass:"align-middle",staticStyle:{width:"1px"},attrs:{colspan:"0",scope:"col"}},[s("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"flexCheckDefault","aria-label":"Select all issue"},on:{click:function(e){t.$parent.selectAllIssues(e.target.checked)}}})]),s("th",{staticClass:"settings col-6 align-middle",attrs:{colspan:"6",scope:"col"}},[!this.$parent.project.settings.archived&&this.$parent.elevated?s("div",[s("div",{staticClass:"btn-group dropright"},[s("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false","aria-label":"Modify issue"}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.icons[this.marked]}}),t._v(" "+t._s(t.text[this.marked])+" ")],1),s("ul",{staticClass:"dropdown-menu"},[s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="none"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiDotsHorizontal}}),t._v(" Select Action")],1)]),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="assign"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiAccountPlus}}),t._v(" Assign user")],1)]),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="deassign"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiAccountRemove}}),t._v(" Deassign user")],1)]),t._m(1),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="resolved"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiTray}}),t._v(" Mark Resolved")],1)]),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="active"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiTrayFull}}),t._v(" Mark Active")],1)]),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="open"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiTrayAlert}}),t._v(" Mark Open")],1)]),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="invalid"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiTrayRemove}}),t._v(" Mark Invalid")],1)]),t._m(2),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="lock"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiLock}}),t._v(" Lock Comments")],1)]),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="unlock"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiLockOpenVariant}}),t._v(" Unlock Comments")],1)])])]),"assign"==t.marked||"deassign"==t.marked?s("div",{staticClass:"btn-group dropright"},[s("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false","aria-label":"Select user to assign/deassign"}},[t._v(" "+t._s(t.$parent.getUsername(this.assigned)||"Nobody")+" ")]),s("ul",{staticClass:"dropdown-menu"},[s("li",[s("a",{staticClass:"dropdown-item user-select",on:{click:function(e){e.preventDefault(),t.assigned=void 0}}},[t._v("Nobody")])]),s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.assigneeFilter,expression:"assigneeFilter"}],staticClass:"m-2",attrs:{type:"text",placeholder:"Filter users..."},domProps:{value:t.assigneeFilter},on:{input:function(e){e.target.composing||(t.assigneeFilter=e.target.value)}}})]),t._m(3),t._l(t.filterAssignee(),(function(e){return s("li",{key:e.id},[e.integration?t._e():s("a",{staticClass:"dropdown-item user-select",on:{click:function(s){s.preventDefault(),t.assigned=e.id}}},[e.avatar?s("img",{attrs:{width:24,height:24,src:e.avatar,alt:"User profile picture"}}):t._e(),t._v(" "+t._s(e.name)+" ")])])}))],2)]):t._e(),s("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{"aria-label":"Execute actions",disabled:"none"==t.marked||("assign"==t.marked||"deassign"==t.marked)&&!t.assigned||0==t.$parent.getCheckedIssues().length},on:{click:function(e){t.$parent.execute(t.marked,t.$parent.getCheckedIssues())}}},[t.$parent.executing?s("div",{staticClass:"spinner-border",staticStyle:{width:"0.6rem",height:"0.6rem","vertical-align":"sub"},attrs:{role:"status"}},[s("span",{staticClass:"visually-hidden"},[t._v("Loading...")])]):s("svg-icon",{staticStyle:{width:"1rem",height:"1rem","vertical-align":"sub"},attrs:{type:"mdi",path:t.mdiPlay}})],1)]):t._e()]),s("th",{staticClass:"text-center align-middle",attrs:{colspan:"1",scope:"col"}},[t._v(" Status ")]),s("th",{staticClass:"text-center align-middle",attrs:{colspan:"1",scope:"col"}},[t._v(" Occurrences ")]),s("th",{staticClass:"text-center align-middle",attrs:{colspan:"1",scope:"col"}},[t._v(" Assignee ")])])]),s("tbody",t._l(t.$parent.issues,(function(e){return s("tr",{key:e.id,staticClass:"list-group-item d-table-row ticket",staticStyle:{height:"70px"}},[s("th",{staticClass:"p-0"},[s("div",{style:{background:t.statusBackground[e.type]}})]),s("th",{staticClass:"align-middle",attrs:{colspan:"0"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"issue.checked"}],staticClass:"form-check-input",attrs:{type:"checkbox","aria-label":"Select issue",id:"checkIssue"+e.id},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(s){var a=e.checked,i=s.target,r=!!i.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);i.checked?o<0&&t.$set(e,"checked",a.concat([n])):o>-1&&t.$set(e,"checked",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"checked",r)}}})]),s("th",{staticClass:"ticket-status",attrs:{colspan:"6"}},[s("button",{staticClass:"btn text-dark",staticStyle:{padding:"0"},attrs:{"aria-label":"Star issue"},on:{click:function(s){t.$parent.elevated&&t.$parent.starIssue(e.id,!e.starred)}}},[s("svg-icon",{attrs:{type:"mdi",path:e.starred?t.mdiStar:t.mdiStarOutline}})],1),s("router-link",{staticClass:"issue-error text-decoration-none",attrs:{to:"/project/"+t.$route.params.id+"/issue/"+e.id}},[t._v(" "+t._s(e.error)+" ")]),s("span",{staticClass:"issue-function text-secondary"},[t._v(t._s(e.function))]),s("span",{staticClass:"issue-checkpoint text-secondary"},[t._v(t._s(e.checkpoint))]),s("span",{staticClass:"issue-description"},[t._v(t._s(e.description))]),s("div",{staticClass:"ticket-footer align-middle"},[t._v(" Last modified "),s("span",[s("timeago",{attrs:{datetime:e.last_modified,"auto-update":60,includeSeconds:!0}})],1),t._v(" Created "),s("span",[s("timeago",{attrs:{datetime:e.created_at,"auto-update":60,includeSeconds:!0}}),t._v(" by "+t._s(t.$parent.getUsername(e.created_by_id)||"ghost")+" "),t.$parent.getIntegration(e.created_by_id)?s("span",{staticClass:"badge rounded-pill bg-primary"},[t._v("Integration")]):t._e()],1),s("svg-icon",{attrs:{type:"mdi",height:20,path:e.comments_locked?t.mdiMessageTextLock:t.mdiMessageText}}),s("span",[t._v(t._s(e.comment_count))]),e.traceback?s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiXml}}):t._e()],1)],1),s("td",{staticClass:"text-center align-middle",attrs:{colspan:"1"}},[t._v(" "+t._s(t.statusKey[e.type])+" ")]),s("td",{staticClass:"text-center align-middle",attrs:{colspan:"1"}},[t._v(" "+t._s(e.occurrences)+" ")]),s("td",{staticClass:"text-center align-middle",attrs:{colspan:"1"}},[t._v(" "+t._s(t.$parent.getUsername(e.assignee_id)||"Unassigned")+" ")])])})),0)]),s("div",{staticClass:"text-center"},[s("div",{staticClass:"btn",on:{click:function(e){t.$parent.page>0&&(t.$parent.page=Math.min(Math.max(t.$parent.page-1,0),Math.ceil(t.$parent.total_issues/t.$parent.page_limit)-1),t.$parent.fetchIssues())}}},[s("svg-icon",{attrs:{type:"mdi",path:t.mdiChevronLeft}})],1),s("span",[t._v("Page "),s("b",[t._v(t._s(t.$parent.page+1))]),t._v(" of "),s("b",[t._v(t._s(Math.ceil(t.$parent.total_issues/t.$parent.page_limit)))])]),s("div",{staticClass:"btn",on:{click:function(e){t.$parent.page<Math.ceil(t.$parent.total_issues/t.$parent.page_limit)-1&&(t.$parent.page=Math.min(Math.max(t.$parent.page+1,0),Math.ceil(t.$parent.total_issues/t.$parent.page_limit)-1),t.$parent.fetchIssues())}}},[s("svg-icon",{attrs:{type:"mdi",path:t.mdiChevronRight}})],1)])]),this.$parent.issues_loading?s("div",[t._m(4)]):s("div",[t.$parent.project.active_issues+t.$parent.project.open_issues+t.$parent.project.resolved_issues==0?s("div",{staticClass:"text-center my-5"},[s("svg-icon",{staticClass:"mb-2 text-muted",attrs:{type:"mdi",width:64,height:64,path:t.mdiTrayAlert}}),s("h3",[t._v("Welcome to your issues page.")]),s("p",{staticClass:"m-auto my-2 col-10 text-muted"},[t._v(" Welcome to the issues tab, where you can track current and previous issues that have been made. Start off your issues tab by creating your first issue (which we hope you should never need to do). ")])],1):0!=t.$parent.issues.length||t.$parent.issue_error?t._e():s("div",{staticClass:"text-center my-5"},[s("svg-icon",{staticClass:"mb-2 text-muted",attrs:{type:"mdi",width:64,height:64,path:t.mdiSelectSearch}}),s("h3",[t._v("Uh oh, we could not find anything.")]),s("p",{staticClass:"m-auto my-2 col-10 text-muted"},[t._v(" Try broadening your search term or creating a new issue ")])],1)])])])},St=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-sm border-right",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false","aria-label":"Search filter"}},[s("span",{staticStyle:{"font-size":"smaller"}},[t._v("Filters:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("hr",{staticClass:"dropdown-divider"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("hr",{staticClass:"dropdown-divider"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("hr",{staticClass:"dropdown-divider"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center my-5"},[s("div",{staticClass:"spinner-border text-muted mb-2",attrs:{role:"status"}},[s("span",{staticClass:"visually-hidden"},[t._v("Searching for issues...")])])])}],At={components:{SvgIcon:n["a"]},name:"ProjectIssues",data:function(){return{marked:"none",assigned:void 0,assigneeFilter:"",icons:{none:d["l"],assign:d["b"],deassign:d["c"],resolved:d["A"],active:d["C"],open:d["B"],invalid:d["D"],lock:d["p"],unlock:d["q"]},filterTemplates:{"No Assignee":"assignee:no","Assigned to me":"assignee:@me","Active Issues":"is:active","Open Issues":"is:open","Starred Issues":"is:starred",Newest:"sort:created_at-desc",Oldest:"sort:created_at-asc","Recently updated":"sort:last_modified-desc","Least recently updated":"sort:last_modified-asc","Most occurred":"sort:occurrences-desc","Least occurred":"sort:occurrences-asc","Error Type":"sort:error-asc",Checkpoint:"sort:checkpoint-asc"},statusKey:{0:"Active",1:"Open",2:"Invalid",3:"Resolved"},statusBackground:{0:"#0d6efd",1:"#dc3545",2:"#6c757d",3:"#28a745"},text:{none:"Select Action",assign:"Assign user",deassign:"Deassign user",resolved:"Mark resolved",active:"Mark active",open:"Mark open",invalid:"Mark invalid",lock:"Lock comments",unlock:"Unlock comments"},mdiAccountPlus:d["b"],mdiAccountRemove:d["c"],mdiTray:d["A"],mdiTrayFull:d["C"],mdiTrayAlert:d["B"],mdiTrayRemove:d["D"],mdiLock:d["p"],mdiLockOpenVariant:d["q"],mdiClockOutline:d["h"],mdiMessageText:d["t"],mdiXml:d["G"],mdiStar:d["x"],mdiStarOutline:d["y"],mdiPlay:d["v"],mdiSelectSearch:d["w"],mdiAlertCircle:d["d"],mdiMagnify:d["r"],mdiCloseCircleOutline:d["i"],mdiDotsHorizontal:d["l"],mdiMessageTextLock:d["u"],mdiChevronLeft:d["f"],mdiChevronRight:d["g"]}},beforeRouteEnter:function(t,e,s){s((function(t){t.$parent.loadIssues({page:t.$parent.page,q:t.$parent.issue_query})}))},methods:{filterAssignee:function(){var t=Object.values(this.$parent.contributors);if(""==this.projectFilter)return t;var e=this.assigneeFilter.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))}}},Ot=At,It=(s("7251"),Object(p["a"])(Ot,jt,St,!1,null,"7fbd1cad",null)),Pt=It.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return this.error?s("div",[s("error",{attrs:{message:this.error}})],1):this.$parent.elevated?s("div",[s("pre",[t._v(t._s(JSON.stringify(t.project,null,4)))]),s("form-input",{attrs:{type:"text"},model:{value:t.project.settings.display_name,callback:function(e){t.$set(t.project.settings,"display_name",e)},expression:"project.settings.display_name"}}),s("nav",[s("div",{staticClass:"nav nav-tabs",attrs:{id:"nav-tab",role:"tablist"}},[s("a",{staticClass:"nav-link active",attrs:{id:"v-pills-settings-tab","data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-controls":"v-pills-settings","aria-selected":"true"}},[s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiCogOutline}}),t._v(" Settings ")],1),s("a",{staticClass:"nav-link",attrs:{id:"v-pills-contributors-tab","data-toggle":"pill",href:"#v-pills-contributors",role:"tab","aria-controls":"v-pills-contributors","aria-selected":"false"}},[s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiAccountDetails}}),t._v(" Contributors ")],1),s("a",{staticClass:"nav-link",attrs:{id:"v-pills-integrations-tab","data-toggle":"pill",href:"#v-pills-integrations",role:"tab","aria-controls":"v-pills-integrations","aria-selected":"false"}},[s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiWrench}}),t._v(" Integrations ")],1),s("a",{staticClass:"nav-link",attrs:{id:"v-pills-webhooks-tab","data-toggle":"pill",href:"#v-pills-webhooks",role:"tab","aria-controls":"v-pills-webhooks","aria-selected":"false"}},[s("svg-icon",{attrs:{type:"mdi",height:20,path:t.mdiWebhook}}),t._v(" Webhooks ")],1)])]),t._m(0)],1):s("div",{staticClass:"text-center my-5"},[s("error",{attrs:{message:"You do not have permission to do this"}})],1)},Lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-content px-5 py-4",attrs:{id:"nav-tabContent"}},[s("div",{staticClass:"tab-pane fade show active",attrs:{id:"v-pills-settings",role:"tabpanel","aria-labelledby":"v-pills-settings-tab"}},[s("pre",[t._v("        - display name\n        - description\n        - url\n\n        - private\n        - limited\n\n        - archive project\n        - delete project\n      ")])]),s("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-contributors",role:"tabpanel","aria-labelledby":"v-pills-contributors-tab"}},[s("pre",[t._v("        - invite contributors\n          - creates link\n          - by discord id\n        - manage contributors\n          - remove\n      ")])]),s("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-integrations",role:"tabpanel","aria-labelledby":"v-pills-integrations-tab"}},[s("pre",[t._v("        - create integration\n        - manage integrations\n          - integration name\n          - get token\n          - reset token\n          - created by [] [] ago\n      ")])]),s("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-webhooks",role:"tabpanel","aria-labelledby":"v-pills-webhooks-tab"}},[s("pre",[t._v("        - create webhooks\n        - manage webhooks\n            - active: Failing (3)\n            - created by [] [] ago\n          - reactivate\n          - url\n          - payload type\n          - use json content\n          - secret\n      ")])])])}],Dt={components:{SvgIcon:n["a"],Error:v,FormInput:Q},name:"ProjectSettings",data:function(){var t={error:void 0,project:JSON.parse(JSON.stringify(this.$parent.project)),mdiCogOutline:d["j"],mdiAccountDetails:d["a"],mdiWrench:d["F"],mdiWebhook:d["E"]};return t}},Tt=Dt,Rt=Object(p["a"])(Tt,Et,Lt,!1,null,null,null),Mt=Rt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container mt-2 p-4"},[s("a",{staticClass:"text-dark mb-2 text-decoration-none h6 d-flex",attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[s("svg-icon",{staticClass:"mr-3",attrs:{type:"mdi",path:t.mdiChevronLeft}}),t._v(" Back to projects ")],1),t._m(0),this.error?s("div",{staticClass:"text-center py-5"},[s("error",{attrs:{message:this.error}})],1):s("div",[s("form-input",{staticClass:"mb-2",attrs:{type:"text",placeholder:"Title (required)"},model:{value:t.issue.error,callback:function(e){t.$set(t.issue,"error",e)},expression:"issue.error"}}),s("form-input",{staticClass:"mb-4",attrs:{type:"area",placeholder:"Description"},model:{value:t.issue.description,callback:function(e){t.$set(t.issue,"description",e)},expression:"issue.description"}}),s("form-input",{attrs:{type:"text",placeholder:"createIssue()",label:"Function (required)"},model:{value:t.issue.function,callback:function(e){t.$set(t.issue,"function",e)},expression:"issue.function"}}),s("p",{staticClass:"text-muted"},[t._v(" The function is a place holder for identifying the function the error is in ")]),s("form-input",{attrs:{type:"text",placeholder:"internal/api.go:53",label:"Checkpoint"},model:{value:t.issue.checkpoint,callback:function(e){t.$set(t.issue,"checkpoint",e)},expression:"issue.checkpoint"}}),s("p",{staticClass:"text-muted"},[t._v(" The checkpoint allows you to identify the exact file and line number the error occurred on. If you don't know the line number, you do not have to include it. ")]),s("form-input",{attrs:{type:"area",placeholder:"Traceback",label:"Traceback"},model:{value:t.issue.traceback,callback:function(e){t.$set(t.issue,"traceback",e)},expression:"issue.traceback"}}),s("p",{staticClass:"text-muted"},[t._v(" Enter a detailed issue traceback if you have one. ")]),s("form-input",{attrs:{type:"checkbox",label:"Lock comments"},model:{value:t.issue.lock_comments,callback:function(e){t.$set(t.issue,"lock_comments",e)},expression:"issue.lock_comments"}}),s("p",{staticClass:"text-muted"},[t._v("If enabled, comments are locked when created")]),s("form-input",{attrs:{type:"select",label:"Assign to",values:t.contributors},model:{value:t.issue.assigned,callback:function(e){t.$set(t.issue,"assigned",e)},expression:"issue.assigned"}}),s("p",{staticClass:"text-muted"},[t._v(" If necessary, you can assign yourself or someone else to the issue when making ")]),s("p",{staticClass:"text-muted"},[t._v(" When creating an issue, if it finds an issue with the same title and function, it will increment the occurrences of the already made issue instead of creating a new one. ")]),s("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:t.$parent.project.settings.archived||!t.validRequest()},on:{click:function(e){return t.createIssue(t.issue)}}},[t._v(" Create Issue ")])],1)])},Ft=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pb mb-4 border-bottom border-muted"},[s("h3",{staticClass:"pb-1"},[t._v("Create Issue")])])}],Nt=(s("4fad"),s("3835")),Bt=et()({storeAsString:!0}),Ut={components:{FormInput:Q,SvgIcon:n["a"],Error:v},name:"CreateProjectIssue",data:function(){return{error:"",issue:{error:"",description:"",function:"",checkpoint:"",traceback:"",lock_comments:!1,assigned:0},contributors:{},mdiChevronLeft:d["f"]}},beforeRouteEnter:function(t,e,s){s((function(t){return t.fetchContributors()}))},methods:{fetchContributors:function(){var t=this;this.contributors={0:"Nobody"},W.a.get("/api/project/"+this.$route.params.id+"/contributors",{transformResponse:[function(t){return Bt.parse(t)}]}).then((function(e){var s=e.data;s.success?Object.entries(s.data.users).forEach((function(e){var s=Object(Nt["a"])(e,2),a=s[0],i=s[1];t.$set(t.contributors,a,i.name)})):t.error=s.error})).catch((function(e){var s;(null===(s=e.response)||void 0===s?void 0:s.data)?t.error=e.response.data.error||e.response.data:t.error=e.text||e.toString()}))},validRequest:function(){return""!=this.issue.error.trim()&&""!=this.issue.function.trim()},createIssue:function(t){var e=this;W.a.post("/api/project/"+this.$route.params.id+"/issues",Y.a.stringify(t),{transformResponse:[function(t){return Bt.parse(t)}],headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){var s=t.data;s.success?(e.$router.push("/project/"+e.$route.params.id+"/issue/"+s.data.issue.id),e.$set(e.$parent.issues,s.data.issue.id,s.data.issue)):e.error=s.error})).catch((function(t){var s;(null===(s=t.response)||void 0===s?void 0:s.data)?e.error=t.response.data.error||t.response.data:e.error=t.text||t.toString()}))}}},Vt=Ut,zt=Object(p["a"])(Vt,qt,Ft,!1,null,null,null),Wt=zt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{staticClass:"text-dark mb-2 text-decoration-none h6 d-flex",attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[s("svg-icon",{staticClass:"mr-3",attrs:{type:"mdi",path:t.mdiChevronLeft}}),t._v(" Back to issues ")],1),this.issue_loading?s("div",{staticClass:"spinner-border mx-auto d-flex my-4",attrs:{role:"status"}},[s("span",{staticClass:"visually-hidden"},[t._v("Loading...")])]):this.issue_error?s("div",{staticClass:"text-center my-5"},[s("svg-icon",{staticClass:"mb-2 text-muted",attrs:{type:"mdi",width:64,height:64,path:t.mdiAlertCircle}}),s("h3",[t._v("Oops, something happened.")]),s("p",{staticClass:"m-auto my-2 col-10 text-muted"},[t._v(" Something unexpected happened whilst handling your request, sorry. ")]),s("kbd",[t._v(t._s(t.issue_error))])],1):s("div",[s("div",{staticClass:"p-4 border-bottom border-muted"},[s("h2",{staticClass:"display-6 d-flex flex-wrap"},[s("h5",{staticClass:"my-auto mr-1"},[s("span",{staticClass:"badge rounded-pill",style:{background:t.statusBackground[t.$parent.issues[t.issue_id].type]},attrs:{"aria-label":"Error type"}},[s("svg-icon",{attrs:{type:"mdi",width:"20",height:"20",path:t.statusIcon[t.$parent.issues[t.issue_id].type]}}),t._v(" "+t._s(t.statusText[t.$parent.issues[t.issue_id].type])+" ")],1)]),s("span",{staticClass:"mr-2"},[t._v(t._s(t.$parent.issues[t.issue_id].error))]),s("span",{staticClass:"text-muted mr-2 h4 font-weight-normal my-auto",attrs:{"aria-label":"Error function"}},[t._v(t._s(t.$parent.issues[t.issue_id].function))]),s("span",{staticClass:"text-muted h5 font-weight-normal my-auto",attrs:{"aria-label":"Error location"}},[t._v(t._s(t.$parent.issues[t.issue_id].checkpoint))])]),s("span",{staticClass:"dot-right"},[s("span",{staticClass:"text-muted"},[s("span",{staticClass:"text-body"},[t._v(t._s(t.$parent.getUsername(t.$parent.issues[t.issue_id].created_by_id)||"ghost"))]),t.$parent.getIntegration(t.$parent.issues[t.issue_id].created_by_id)?s("span",{staticClass:"badge rounded-pill bg-primary ml-1"},[t._v("Integration")]):t._e(),t._v(" opened this issue "),s("timeago",{attrs:{datetime:t.$parent.issues[t.issue_id].created_at,"auto-update":60,includeSeconds:!0}})],1),s("span",{staticClass:"pl-1 text-muted"},[t._v(" Last modified "),s("timeago",{staticClass:"text-body",attrs:{datetime:t.$parent.issues[t.issue_id].last_modified,"auto-update":60,includeSeconds:!0}})],1),s("span",{staticClass:"pl-1 text-muted"},[s("span",{staticClass:"text-body"},[t._v(t._s(t.$parent.issues[t.issue_id].occurrences))]),t._v(" occurrences ")]),s("span",{staticClass:"pl-1 text-muted"},[t._v(" Assigned to "),s("span",{staticClass:"text-body"},[t._v(" "+t._s(t.$parent.getUsername(t.$parent.issues[t.issue_id].assignee_id)||"ghost")+" ")])])])]),s("div",{staticClass:"p-4 border-bottom border-muted d-flex flex-column"},[s("div",{staticClass:"d-flex mt-4"},[s("img",{attrs:{width:"40",height:"40",src:t.$parent.getAvatar(t.$parent.issues[t.issue_id].created_by_id)}}),s("div",{staticClass:"card ml-3",staticStyle:{"align-items":"stretch",width:"100%"}},[s("div",{staticClass:"card-header text-black-50"},[s("b",{staticClass:"text-dark"},[t._v(t._s(t.$parent.getUsername(t.$parent.issues[t.issue_id].created_by_id)||"ghost"))]),t.$parent.getIntegration(t.$parent.issues[t.issue_id].created_by_id)?s("span",{staticClass:"badge rounded-pill bg-primary ml-1"},[t._v("Integration")]):t._e(),t._v(" created this issue "),s("timeago",{attrs:{datetime:t.$parent.issues[t.issue_id].created_at,"auto-update":60,includeSeconds:!0}})],1),s("div",{staticClass:"card-body"},[t._v(" "+t._s(t.$parent.issues[t.issue_id].description)+" "),t.$parent.issues[t.issue_id].traceback?s("pre",{staticClass:"bg-light mt-3 mb-0 rounded-lg p-3 border border-muted"},[t._v(t._s(t.$parent.issues[t.issue_id].traceback)+"\n            ")]):t._e()])])]),t._l(t.comments,(function(e,a){return s("div",{key:a},[0==e.type?s("div",{staticClass:"d-flex mt-4"},[s("img",{attrs:{width:"40",height:"40",src:t.$parent.getAvatar(e.created_by_id)}}),s("div",{staticClass:"card ml-3",staticStyle:{"align-items":"stretch",width:"100%"}},[s("div",{staticClass:"card-header text-black-50 comment-text"},[s("b",{staticClass:"text-dark"},[t._v(t._s(t.$parent.getUsername(e.created_by_id)||"ghost"))]),t._v(" commented "),s("timeago",{attrs:{datetime:e.created_at,"auto-update":60,includeSeconds:!0}})],1),s("div",{staticClass:"card-body",staticStyle:{"white-space":"pre-wrap"}},[t._v(" "+t._s(e.content)+" ")])])]):1==e.type?s("div",{staticClass:"d-flex ml-5 mt-4"},[s("svg-icon",{staticClass:"ml-4 mr-2",style:{color:t.statusBackground[e.issue_marked]},attrs:{width:"30",height:"30",type:"mdi",path:t.statusIcon[e.issue_marked]}}),s("div",{staticClass:"align-self-middle ml-2 d-flex",staticStyle:{"align-items":"stretch",width:"100%"}},[s("div",{staticClass:"text-dark my-auto comment-text"},[t._v(" Issue marked "),s("b",[t._v(t._s(t.statusText[e.issue_marked]))]),s("timeago",{attrs:{datetime:e.created_at,"auto-update":60,includeSeconds:!0}}),t._v(" by "),s("b",[t._v(t._s(t.$parent.getUsername(e.created_by_id)||"ghost"))])],1)])],1):2==e.type?s("div",{staticClass:"d-flex ml-5 mt-4"},[s("svg-icon",{staticClass:"ml-4 mr-2 text-dark",attrs:{width:"30",height:"30",type:"mdi",path:e.comments_opened?t.mdiLockOpenVariant:t.mdiLock}}),s("div",{staticClass:"align-self-middle ml-2 d-flex",staticStyle:{"align-items":"stretch",width:"100%"}},[s("div",{staticClass:"text-dark my-auto comment-text"},[t._v(" Comments were "),s("b",[t._v(t._s(e.comments_opened?"":"un")+"locked")]),s("timeago",{attrs:{datetime:e.created_at,"auto-update":60,includeSeconds:!0}}),t._v(" by "),s("b",[t._v(t._s(t.$parent.getUsername(e.created_by_id)||"ghost"))])],1)])],1):t._e()])})),t.comments_end?t._e():s("div",{staticClass:"btn btn-light border border-muted mx-auto my-4 px-5",on:{click:function(e){t.comments_page++,t.fetchComments(t.comments_page)}}},[t._v(" Load more comments ")])],2),s("div",{staticClass:"p-4"},[t.$root.userAuthenticated?t.$parent.issues[t.issue_id].comments_locked?s("div",[s("div",{staticClass:"border border-muted rounded-sm py-5 text-muted text-center bg-muted card-header mb-2"},[t._v(" Comments are locked on this issue ")]),t.$root.userAuthenticated?t._e():s("button",{staticClass:"btn btn-success mr-2",attrs:{type:"button",disabled:!0}},[t._v(" Comment ")])]):s("div",[s("form-input",{staticClass:"mb-2",attrs:{type:"area",placeholder:"Leave a comment"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),s("div",{staticClass:"d-flex"},[t.$parent.elevated||!t.$parent.project.settings.limited?s("button",{staticClass:"btn btn-success mr-2",attrs:{type:"button",disabled:t.$parent.project.settings.archived||t.$parent.issues[t.issue_id].comments_locked||!t.validRequest()},on:{click:function(e){return t.sendComment(t.comment)}}},[t._v(" Comment ")]):s("button",{staticClass:"btn btn-success mr-2",attrs:{type:"button",disabled:!0}},[t._v(" You cannot comment ")])])],1):s("div",[s("div",{staticClass:"border border-muted rounded-sm py-5 text-muted text-center bg-muted card-header mb-2"},[t._v(" You must be logged in to comment ")]),t.$root.userAuthenticated?t._e():s("button",{staticClass:"btn btn-success mr-2",attrs:{type:"button",disabled:!0}},[t._v(" Comment ")])]),t.$parent.elevated&&!t.$parent.project.settings.archived?s("div",[s("div",{staticClass:"btn-group dropright mr-2 py-2"},[s("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false","aria-label":"Modify issue"}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.icons[this.marked]}}),t._v(" "+t._s(t.text[this.marked])+" ")],1),s("ul",{staticClass:"dropdown-menu"},[s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="none"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiDotsHorizontal}}),t._v(" Select Action")],1)]),t._m(0),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="resolved"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiTray}}),t._v(" Mark Resolved")],1)]),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="active"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiTrayFull}}),t._v(" Mark Active")],1)]),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="open"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiTrayAlert}}),t._v(" Mark Open")],1)]),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="invalid"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiTrayRemove}}),t._v(" Mark Invalid")],1)]),t._m(1),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="lock"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiLock}}),t._v(" Lock Comments")],1)]),s("li",[s("a",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.marked="unlock"}}},[s("svg-icon",{attrs:{type:"mdi",height:16,path:t.mdiLockOpenVariant}}),t._v(" Unlock Comments")],1)])])]),t.$parent.elevated?s("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{"aria-label":"Execute actions",disabled:"none"==t.marked||t.marked==t.statusText[t.$parent.issues[t.issue_id].type].toLowerCase()},on:{click:function(e){return t.$parent.execute(t.marked,[t.$route.params.issueid])}}},[t.$parent.executing?s("div",{staticClass:"spinner-border",staticStyle:{width:"0.6rem",height:"0.6rem","vertical-align":"sub"},attrs:{role:"status"}},[s("span",{staticClass:"visually-hidden"},[t._v("Loading...")])]):s("svg-icon",{staticStyle:{width:"1rem",height:"1rem","vertical-align":"sub"},attrs:{type:"mdi",path:t.mdiPlay}})],1):t._e()]):t._e()])])])},Yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("hr",{staticClass:"dropdown-divider"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("hr",{staticClass:"dropdown-divider"})])}],Jt=et()({storeAsString:!0});function Kt(t,e,s){W.a.get("/api/project/"+t+"/issue/"+e,{transformResponse:[function(t){return Jt.parse(t)}]}).then((function(t){var e=t.data;e.success?s(void 0,e.data):s(e.error,{})})).catch((function(t){var e;(null===(e=t.response)||void 0===e?void 0:e.data)?s(t.response.data.error||t.response.data,{}):s(t,{})}))}var Xt={components:{SvgIcon:n["a"],FormInput:Q},name:"ViewProjectIssue",data:function(){return{issue_error:void 0,issue_loading:!0,comment:"",comments:[],comments_page:0,comments_end:!1,statusIcon:{0:d["C"],1:d["B"],2:d["D"],3:d["A"]},statusText:{0:"Active",1:"Open",2:"Invalid",3:"Resolved"},statusBackground:{0:"#0d6efd",1:"#dc3545",2:"#6c757d",3:"#28a745"},marked:"none",icons:{none:d["l"],resolved:d["A"],active:d["C"],open:d["B"],invalid:d["D"],lock:d["p"],unlock:d["q"]},text:{none:"Select Action",resolved:"Mark resolved",active:"Mark active",open:"Mark open",invalid:"Mark invalid",lock:"Lock comments",unlock:"Unlock comments"},mdiPlay:d["v"],mdiDotsHorizontal:d["l"],mdiAccountPlus:d["b"],mdiAccountRemove:d["c"],mdiChevronLeft:d["f"],mdiAlertCircle:d["d"],mdiTray:d["A"],mdiTrayFull:d["C"],mdiTrayAlert:d["B"],mdiTrayRemove:d["D"],mdiLock:d["p"],mdiLockOpenVariant:d["q"]}},beforeRouteEnter:function(t,e,s){var a,i,r,n,o=null===(a=t.params)||void 0===a?void 0:a.id,c=null===(i=t.params)||void 0===i?void 0:i.issueid;(null===(r=e.params)||void 0===r?void 0:r.id)==o&&(null===(n=e.params)||void 0===n?void 0:n.issueid)==c||void 0==o||void 0==c?s():Kt(o,c,(function(t,e){s((function(s){s.issue_id=c,s.setData(t,e)}))}))},beforeRouteUpdate:function(t,e,s){var a,i,r,n,o=this,c=null===(a=t.params)||void 0===a?void 0:a.id,d=null===(i=t.params)||void 0===i?void 0:i.issueid;this.issue_id=d,(null===(r=e.params)||void 0===r?void 0:r.id)==c&&(null===(n=e.params)||void 0===n?void 0:n.issueid)==d||void 0==c||void 0==d||Kt(c,d,(function(t,e){o.issue=void 0,o.issue_error=void 0,o.issue_loading=!0,o.setData(t,e)})),s()},methods:{fetchComments:function(t){var e=this;W.a.get("/api/project/"+this.$route.params.id+"/issue/"+this.$route.params.issueid+"/comments?page="+t,{transformResponse:[function(t){return Jt.parse(t)}]}).then((function(t){var s=t.data;if(s.success){var a=[];e.comments_page=s.data.page,s.data.comments.forEach((function(t){t.issue_marked=0|t.issue_marked,e.comments.push(t),0==t.created_by_id||t.created_by_id in e.$parent.contributors||a.includes(t.created_by_id)||a.push(t.created_by_id)})),s.data.end&&(e.comments_end=!0),e.lazyLoad(a)}}))},lazyLoad:function(t){var e=this;t.length>0?W.a.get("/api/project/"+this.$route.params.id+"/lazy",{transformResponse:[function(t){return Jt.parse(t)}],params:{q:Y.a.stringify(t)}}).then((function(t){var s=t.data;s.success?Object.values(s.data.users).forEach((function(t){e.$set(e.$parent.contributors,t.id,t)})):e.issue_error=s.error})).catch((function(t){var s;(null===(s=t.response)||void 0===s?void 0:s.data)?e.issue_error=t.response.data.error||t.response.data:e.issue_error=t.text||t.toString()})).finally((function(){e.$parent.contributors_loaded=!0})):this.$parent.contributors_loaded=!0},setData:function(t,e){if(console.log(t,e),t&&t!=e)return this.issue_error=t.toString(),void(this.issue_loading=!1);this.issue_error=void 0;var s=this.$route.params.issueid;this.$set(this.$parent.issues,s,e.issue),this.issue=this.$parent.issues[s],this.issue_loading=!1,this.fetchComments(0);var a=[];0==e.issue.created_by_id||e.issue.created_by_id in this.$parent.contributors||a.includes(e.issue.created_by_id)||a.push(e.issue.created_by_id),0==e.issue.assignee_id||e.issue.assignee_id in this.$parent.contributors||a.includes(e.issue.assignee_id)||a.push(e.issue.assignee_id),this.lazyLoad(a)},validRequest:function(){return""!=this.comment.trim()},sendComment:function(t){var e=this;W.a.post("/api/project/"+this.$route.params.id+"/issue/"+this.$route.params.issueid+"/comments",Y.a.stringify({content:t}),{transformResponse:[function(t){return Jt.parse(t)}]}).then((function(t){var s=t.data;s.success?e.comments_end&&e.comments.push(s.data):e.issue_error=s.error})).catch((function(t){var s;(null===(s=t.response)||void 0===s?void 0:s.data)?e.issue_error=t.response.data.error||t.response.data:e.issue_error=t.text||t.toString()}))}}},Gt=Xt,Zt=(s("ed0d"),Object(p["a"])(Gt,Ht,Yt,!1,null,"b1e37c0e",null)),Qt=Zt.exports;a["a"].use(k["a"]),a["a"].use(x["a"],{name:"Timeago",locale:"en"});var te=[{path:"/",name:"Home",component:T},{path:"/projects",name:"Projects",component:B},{path:"/project/create",name:"CreateProject",component:nt},{path:"/project/:id",component:_t,children:[{path:"",name:"ProjectOverview",component:$t},{path:"issues",name:"ProjectIssues",component:Pt},{path:"settings",name:"ProjectSettings",component:Mt},{path:"issue/create",component:Wt},{path:"issue/:issueid",component:Qt}]},{path:"*",component:O}],ee=new k["a"]({mode:"history",base:"/",routes:te}),se=ee,ae=(s("7b17"),s("ab8b"),et()({storeAsString:!0}));a["a"].config.productionTip=!1,new a["a"]({router:se,render:function(t){return t(f)},data:function(){return{error:"",userLoading:!0,userAuthenticated:!1,userProjects:[],user:{},projectFilter:""}},mounted:function(){this.fetchMe()},methods:{fetchMe:function(){var t=this;W.a.get("/api/me",{transformResponse:[function(t){return ae.parse(t)}]}).then((function(e){var s=e.data;s.success?(t.userAuthenticated=s.data.authenticated,t.userProjects=s.data.projects,t.user=s.data.user):t.error=s.error})).catch((function(e){var s;(null===(s=e.response)||void 0===s?void 0:s.data)?t.error=e.response.data.error||e.response.data:t.error=e.text||e.toString()})).finally((function(){t.userLoading=!1}))}}}).$mount("#app")},7251:function(t,e,s){"use strict";var a=s("8928"),i=s.n(a);i.a},8928:function(t,e,s){},b8d2:function(t,e,s){},c32d:function(t,e){if("undefined"===typeof moment){var s=new Error("Cannot find module 'moment'");throw s.code="MODULE_NOT_FOUND",s}t.exports=moment},ed0c:function(t,e,s){"use strict";var a=s("0aed"),i=s.n(a);i.a},ed0d:function(t,e,s){"use strict";var a=s("b8d2"),i=s.n(a);i.a}});
//# sourceMappingURL=app-legacy.189c3445.js.map